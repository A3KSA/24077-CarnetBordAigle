import{a as ie,b as ne,c as ae,e as re}from"./chunk-HPTZCCEC.js";import{Ba as Y,C as G,Ca as W,Fa as V,Ha as D,Ia as T,J as r,Ja as A,K as m,Ka as j,La as F,Ma as $,Na as ee,O as h,Oa as L,P as s,R as n,S as a,Sa as te,T as f,Ua as oe,W as y,X as g,Y as v,aa as c,ba as x,ca as S,da as b,ea as _,fa as k,ja as U,l as q,m as O,o as z,oa as J,pa as E,q as C,qa as P,r as H,ra as K,ua as Q,v as M,w,x as u,y as Z,za as X}from"./chunk-BJ25ZCI7.js";var N=(()=>{class t{http;apiUrl="http://localhost:5000";constructor(e){this.http=e}getNotebook(){return this.http.get(`${this.apiUrl}/api/notebooks`,{withCredentials:!0})}addNotebook(e){return this.http.post(`${this.apiUrl}/api/notebooks`,e,{withCredentials:!0})}deleteNotebook(e){return this.http.delete(`${this.apiUrl}/api/notebooks/${e}`,{withCredentials:!0})}getNotebookById(e){return this.http.get(`${this.apiUrl}/api/notebooks/${e}`)}static \u0275fac=function(i){return new(i||t)(z(Q))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ge(t,p){if(t&1){let e=y();n(0,"div",14)(1,"button",15),g("click",function(){M(e);let o=v();return w(o.openModalNewNote())}),u(),n(2,"svg",16),f(3,"path",17),a(),c(4," Commentaire "),a()()}}function ue(t,p){if(t&1&&(n(0,"option",18),c(1),a()),t&2){let e=p.$implicit;s("value",e._id),r(),S(" ",e.name," ")}}function he(t,p){if(t&1){let e=y();n(0,"app-note-item",21),g("noteDeleted",function(o){M(e);let d=v(2);return w(d.onNoteDeleted(o))}),a()}if(t&2){let e=p.$implicit;s("note",e)}}function ve(t,p){if(t&1&&(n(0,"div",19),h(1,he,1,1,"app-note-item",20),a()),t&2){let e=v();r(),s("ngForOf",e.notes)}}function be(t,p){if(t&1){let e=y();n(0,"div",22)(1,"div"),c(2,"Aucun commentaire pour l'instant"),a(),n(3,"button",15),g("click",function(){M(e);let o=v();return w(o.openModalNewNote())}),u(),n(4,"svg",16),f(5,"path",17),a(),c(6," Premier commentaire "),a()()}}var se=(()=>{class t{notebookService;usersService;noteService;route;dialog;notebook=[];allNotes=[];notes=[];users=[];selectedUser="all";filterText="";constructor(e,i,o,d,l){this.notebookService=e,this.usersService=i,this.noteService=o,this.route=d,this.dialog=l}ngOnInit(){this.notebook._id=this.route.snapshot.paramMap.get("id"),this.getAllNotes(),this.getAllUsers(),this.notebookService.getNotebookById(this.notebook._id).subscribe({next:e=>{this.notebook=e}})}applyFilters(){this.notes=this.allNotes.filter(e=>{let i=e.title.toLowerCase().includes(this.filterText.toLowerCase())||e.content.toLowerCase().includes(this.filterText.toLowerCase()),o=this.selectedUser==="all"||e.userId===this.selectedUser;return i&&o})}getAllNotes(){this.noteService.getNotesByNotebook(this.notebook._id).subscribe({next:e=>{this.allNotes=e,console.log(e),this.applyFilters()},error:e=>{console.log(e)}})}getAllUsers(){this.usersService.getUsers().subscribe({next:e=>{this.users=e},error:e=>{console.log(e)}})}onNoteDeleted(e){this.notes=this.notes.filter(i=>i._id!==e)}openModalNewNote(){this.dialog.open(ne,{data:{noteBookId:this.notebook._id},autoFocus:!1}).afterClosed().subscribe(i=>{i&&this.getAllNotes()})}static \u0275fac=function(i){return new(i||t)(m(N),m(L),m(ie),m(X),m(oe))};static \u0275cmp=C({type:t,selectors:[["app-notebook-details"]],decls:18,vars:8,consts:[[1,"container"],[1,"header"],[1,"titre1"],["src","/img/open-book.png"],[1,"description"],["class","container-actions",4,"ngIf"],[1,"container-filtres"],["placeholder","Rechercher...",1,"input-filtres",3,"ngModelChange","input","ngModel"],["type","date",1,"input-filtres"],[1,"input-filtres",3,"change","ngModelChange","ngModel"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","content",4,"ngIf"],["class","content-vide",4,"ngIf"],[1,"container-actions"],[1,"action",3,"click"],["id","Layer_1","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","data-name","Layer 1"],["d","m16 16a1 1 0 0 1 -1 1h-2v2a1 1 0 0 1 -2 0v-2h-2a1 1 0 0 1 0-2h2v-2a1 1 0 0 1 2 0v2h2a1 1 0 0 1 1 1zm6-5.515v8.515a5.006 5.006 0 0 1 -5 5h-10a5.006 5.006 0 0 1 -5-5v-14a5.006 5.006 0 0 1 5-5h4.515a6.958 6.958 0 0 1 4.95 2.05l3.484 3.486a6.951 6.951 0 0 1 2.051 4.949zm-6.949-7.021a5.01 5.01 0 0 0 -1.051-.78v4.316a1 1 0 0 0 1 1h4.316a4.983 4.983 0 0 0 -.781-1.05zm4.949 7.021c0-.165-.032-.323-.047-.485h-4.953a3 3 0 0 1 -3-3v-4.953c-.162-.015-.321-.047-.485-.047h-4.515a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3z"],[3,"value"],[1,"content"],[3,"note","noteDeleted",4,"ngFor","ngForOf"],[3,"noteDeleted","note"],[1,"content-vide"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),f(3,"img",3),n(4,"div"),c(5),a()(),n(6,"div",4),c(7),a(),h(8,ge,5,0,"div",5),a(),n(9,"div",6)(10,"input",7),k("ngModelChange",function(l){return _(o.filterText,l)||(o.filterText=l),l}),g("input",function(){return o.applyFilters()}),a(),f(11,"input",8),n(12,"select",9),g("change",function(){return o.applyFilters()}),k("ngModelChange",function(l){return _(o.selectedUser,l)||(o.selectedUser=l),l}),n(13,"option",10),c(14,"Tous"),a(),h(15,ue,2,2,"option",11),a()(),h(16,ve,2,1,"div",12)(17,be,7,0,"div",13),a()),i&2&&(r(5),x(o.notebook.title),r(2),S('"',o.notebook.description,'"'),r(),s("ngIf",o.notes.length!=0),r(2),b("ngModel",o.filterText),r(2),b("ngModel",o.selectedUser),r(3),s("ngForOf",o.users),r(),s("ngIf",o.notes.length!=0),r(),s("ngIf",o.notes.length===0))},dependencies:[E,P,j,F,V,A,D,T,ae],styles:['@charset "UTF-8";.content[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:column;gap:10px;justify-content:flex-start;align-items:center;overflow-y:auto;padding:10px 5px;-ms-overflow-style:none}.content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.content-vide[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:column;gap:10px;justify-content:center;align-items:center;overflow-y:auto;padding:10px 5px;height:100%}.titre1[_ngcontent-%COMP%]{padding-top:10px;display:flex;flex-direction:row;gap:10px;justify-content:center;align-items:center;font-size:25px;font-weight:600}.titre1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#818181}app-note-item[_ngcontent-%COMP%]{width:100%}.container-filtres[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;justify-content:center;align-items:center;background-color:#fff;width:100%;padding:10px 0;flex-wrap:wrap}']})}return t})();var _e=[{path:"",component:se}],ce=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=H({type:t});static \u0275inj=O({imports:[W.forChild(_e),W]})}return t})();function ke(t,p){if(t&1&&(n(0,"option",50),c(1),a()),t&2){let e=p.$implicit;s("value",e),r(),S(" ",e," ")}}var Pe=(()=>{class t{notebookService;dialogRef;newNotebook={title:"",description:"",visibility:R.Private};visibilityOptions=Object.values(R);errorMessage=null;constructor(e,i){this.notebookService=e,this.dialogRef=i}saveNotebook(){this.notebookService.addNotebook(this.newNotebook).subscribe({error:e=>{console.log(e)}}),this.dialogRef.close(!0)}static \u0275fac=function(i){return new(i||t)(m(N),m(te))};static \u0275cmp=C({type:t,selectors:[["app-new"]],decls:53,vars:4,consts:[[1,"container-modal"],[1,"header-modal"],["xmlns","http://www.w3.org/2000/svg","data-name","Layer 1","viewBox","0 0 947.25 603.69",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M452.65527,713.275l-29,16.84,28.58985-6.9c-.22022,2.36-.52,4.68-.91992,6.95-.11036.63-.23,1.25-.36036,1.87a51.87781,51.87781,0,0,1-5.25,14.92005c-.48.86-.96,1.69995-1.46,2.51-.48.82-.98,1.61-1.48974,2.38H365.895c-.64014-.77-1.25-1.57-1.81006-2.38a35.97564,35.97564,0,0,1-6.17969-26.62,44.96785,44.96785,0,0,1,1.19971-5.63,51.56839,51.56839,0,0,1,1.83008-5.57,73.442,73.442,0,0,1,4.41015-9.35c3.52-6.34,9.00977-12.06,15.48-17.14a108.06933,108.06933,0,0,1,9.77978-6.8q.96021-.615,1.9502-1.2c1.00976-.6,2.02-1.19,3.04-1.76,2.02979-1.16,4.07959-2.26,6.12989-3.3.54-.28,1.06982-.55,1.6001-.81,4.4497-2.22,8.87988-4.21,13.0996-5.96.53028-.22,1.07032-.44,1.6001-.65a233.30757,233.30757,0,0,1,25.72022-8.81s.02978.08.08008.25c.12988.46.46,1.57.90966,3.21,1.25,4.55,3.4502,13.23,5.22022,23.71.1001.57.18994,1.15.29,1.73005a181.68776,181.68776,0,0,1,2.4497,26.81c.01026.56.01026,1.11.01026,1.67Z","transform","translate(-126.375 -148.155)","fill","#f2f2f2"],["d","M445.86523,654.845c-.01025.03-.11035.52-.34033,1.42-.18994.75-.4497,1.78-.79,3.06-1.16992,4.47-3.25,11.96-6.21,20.98-.16992.52-.3501,1.06-.52978,1.6-2.06006,6.17-4.51026,12.99-7.33985,20-.71045,1.76-1.42041,3.49-2.15039,5.18-.21972.53-.43994,1.05005-.66992,1.56q-4.65015,10.77007-9.56982,19.71l-.83008,1.49a134.52429,134.52429,0,0,1-13.18994,19.62c-.66992.82-1.3501,1.61-2.04,2.38h-2.32031c.70019-.77,1.40039-1.57,2.08007-2.38a132.14581,132.14581,0,0,0,13.87012-20.4c.28027-.49.56006-.98.83008-1.48,3.52978-6.41,6.74023-13.11,9.60986-19.75.23-.51.4502-1.03.66992-1.56,3.75-8.78,6.90039-17.41,9.44-25.00994.18017-.54.36035-1.08.53027-1.61005,3.70019-11.22,6.02-20.02,6.91016-23.54.11962-.52.21972-.93.29-1.21.06983-.26.09961-.41.10987-.44l.81006.19h.00976Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M451.48486,683.165c-.50976-.03-1.02-.08-1.52978-.13a44.99648,44.99648,0,0,1-11.43018-2.73c-.52978-.21-1.06982-.42-1.60986-.65a45.858,45.858,0,0,1-4.28027-2.11,45.27611,45.27611,0,0,1-14.60987-12.87c-.12988-.17-.25976-.35-.37988-.52q-.78.33-1.58984.66c.11962.17.23974.34.36962.51a46.76551,46.76551,0,0,0,15.39014,13.7,48.307,48.307,0,0,0,4.56983,2.24006c.53027.22,1.07031.44,1.61035.63995a46.89079,46.89079,0,0,0,12.25,2.86005c.5.05,1.00976.09,1.50976.12C451.665,684.295,451.5752,683.725,451.48486,683.165Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M452.69482,711.575a45.37037,45.37037,0,0,1-24.18994-4.49q-.79467-.375-1.56006-.81a4.2326,4.2326,0,0,1-.46972-.25,45.58023,45.58023,0,0,1-23.1499-34.74c-.02-.17-.04-.35-.06006-.51995-.54.28-1.08008.55-1.60987.83.01953.17.03955.33.06983.5a47.22571,47.22571,0,0,0,23.93017,35.41c.19971.11.40967.23.61963.32995q.78.42,1.56006.81a47.05043,47.05043,0,0,0,24.82031,4.63c.44971-.04.89991-.09,1.34961-.13995,0-.57.01026-1.13.01026-1.7C453.5752,711.485,453.13477,711.535,452.69482,711.575Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M451.3252,730.165a45.54776,45.54776,0,0,1-27.75.21,44.468,44.468,0,0,1-5.31006-2.02c-.54-.24-1.07032-.5-1.6001-.77-.56983-.28-1.12988-.57995-1.68018-.87994a45.67468,45.67468,0,0,1-23.38965-42.39,43.76337,43.76337,0,0,1,.96-7.16c.02978-.16.06-.32.10009-.48-.66015.41-1.32031.82-1.97021,1.24-.02979.15-.06006.29-.08008.44a46.77057,46.77057,0,0,0-.73,9.79,47.25281,47.25281,0,0,0,24.28027,40.03c.55957.31,1.11963.61,1.67969.89.53027.27,1.07031.53,1.6001.78a47.17478,47.17478,0,0,0,33.52978,2.19c.37012-.1.74024-.22,1.11036-.34.1499-.64.27978-1.28.3999-1.92C452.09521,729.915,451.71484,730.045,451.3252,730.165Z","transform","translate(-126.375 -148.155)","fill","#fff"],["x","200.25","y","246.52002","width","56","height","56","fill","#9e616a"],["points","165.326 581.214 176.36 581.213 181.608 538.656 165.324 538.657 165.326 581.214","fill","#9e616a"],["d","M321.98486,741.805l-16.57959-11.45v-7.47l-1.88037.11-11.81982.71-3.74024.22-2.12988,25.54-.06982.85h7.83007l.15967-.85,1.24024-6.54,3.16992,6.54.41016.85H319.335a4.67905,4.67905,0,0,0,4.66992-4.66A4.67076,4.67076,0,0,0,321.98486,741.805Z","transform","translate(-126.375 -148.155)","fill","#2f2e41"],["points","229.853 574.209 240.457 577.258 257.265 537.81 241.615 533.309 229.853 574.209","fill","#9e616a"],["d","M381.895,742.695l-12.77-15.59,2.06982-7.18-1.83984-.41-10.25-2.3-1.31006-.29-3.6499-.82-9.41016,24.75,7.52,2.17,3.39014-6.72,1.39014,8.09,4.73974,1.36005,12.89014,3.71,2.33008.67a4.66278,4.66278,0,0,0,4.8999-7.44Z","transform","translate(-126.375 -148.155)","fill","#2f2e41"],["d","M1070.355,148.155H485.895a3.28,3.28,0,0,0-3.27,3.28v19.25a3.27992,3.27992,0,0,0,3.27,3.28h584.46a3.27961,3.27961,0,0,0,3.27-3.28v-19.25A3.27966,3.27966,0,0,0,1070.355,148.155Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["id","b5b16cf8-67a2-4f26-b1bf-3e43b6764a92","data-name","Ellipse 90","cx","375.2487","cy","11.96482","r","4.64784","fill","#fff"],["id","b66c556c-a3ce-485d-a169-682ae89102b6","data-name","Ellipse 91","cx","392.89038","cy","11.96482","r","4.64784","fill","#fff"],["id","b9ccba63-6bb8-47f6-85e8-d2b1a1d873e2","data-name","Ellipse 92","cx","410.53288","cy","11.96482","r","4.64784","fill","#fff"],["d","M1053.06494,153.915h-20.31006a1.505,1.505,0,1,0,0,3.01h20.31006a1.505,1.505,0,1,0,0-3.01Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M1053.06494,159.555h-20.31006a1.505,1.505,0,1,0,0,3.01h20.31006a1.505,1.505,0,1,0,0-3.01Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M1053.06494,165.195h-20.31006a1.505,1.505,0,1,0,0,3.01h20.31006a1.505,1.505,0,1,0,0-3.01Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M1050.75488,229.645H899.3252a3.99016,3.99016,0,0,0-3.98,3.98v61.45a3.9901,3.9901,0,0,0,3.98,3.98h151.42968a3.9838,3.9838,0,0,0,3.98-3.98v-61.45A3.98385,3.98385,0,0,0,1050.75488,229.645Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M1036.335,318.975H913.74512a4.775,4.775,0,0,0,0,9.55H1036.335C1042.55518,328.615,1042.49512,318.885,1036.335,318.975Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M1036.335,340.865H913.74512a4.775,4.775,0,0,0,0,9.55H1036.335C1042.55518,350.505,1042.49512,340.775,1036.335,340.865Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M1036.335,362.755H913.74512a4.775,4.775,0,0,0,0,9.55H1036.335C1042.55518,372.395,1042.49512,362.665,1036.335,362.755Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M851.75488,229.645H700.3252a3.99016,3.99016,0,0,0-3.98,3.98v61.45a3.9901,3.9901,0,0,0,3.98,3.98H851.75488a3.9838,3.9838,0,0,0,3.98-3.98v-61.45A3.98385,3.98385,0,0,0,851.75488,229.645Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M837.335,318.975H714.74512a4.775,4.775,0,0,0,0,9.55H837.335C843.55518,328.615,843.49512,318.885,837.335,318.975Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M837.335,340.865H714.74512a4.775,4.775,0,0,0,0,9.55H837.335C843.55518,350.505,843.49512,340.775,837.335,340.865Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M837.335,362.755H714.74512a4.775,4.775,0,0,0,0,9.55H837.335C843.55518,372.395,843.49512,362.665,837.335,362.755Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M472.04287,345.86227a10.02421,10.02421,0,0,0-.42317,1.74747l-62.00428-10.95961-53.4076-28.7994a15.08,15.08,0,0,0-16.0966,25.41817l.00006,0A118.971,118.971,0,0,0,372.847,350.26435l38.71983,12.96946,67.82117-4.34723a9.9971,9.9971,0,1,0-7.34512-13.02431Z","transform","translate(-126.375 -148.155)","fill","#9e616a"],["d","M624.55518,346.055h-193.02a5.08706,5.08706,0,0,0-5.08008,5.08v78.31a5.087,5.087,0,0,0,5.08008,5.07995h193.02A5.08488,5.08488,0,0,0,629.625,429.445v-78.31A5.0849,5.0849,0,0,0,624.55518,346.055Z","transform","translate(-126.375 -148.155)","fill","#257530"],["d","M606.1748,459.915H449.915a6.09,6.09,0,0,0,0,12.18H606.1748C614.105,472.20505,614.0249,459.805,606.1748,459.915Z","transform","translate(-126.375 -148.155)","fill","#257530"],["d","M606.1748,487.815H449.915a6.09,6.09,0,0,0,0,12.18H606.1748C614.105,500.105,614.0249,487.70505,606.1748,487.815Z","transform","translate(-126.375 -148.155)","fill","#257530"],["d","M606.1748,515.725H449.915a6.085,6.085,0,1,0,0,12.17H606.1748C614.105,528.005,614.0249,515.615,606.1748,515.725Z","transform","translate(-126.375 -148.155)","fill","#257530"],["cx","357.65385","cy","265.79258","r","29.72868","transform","translate(-173.49417 303.97269) rotate(-61.33683)","fill","#9e616a"],["d","M362.625,229.675H343.4209c-12.58985,0-22.7959,11.48193-22.7959,25.64563-9.5,9.53894-6.64893,21.48919.88867,34.35437a149.22541,149.22541,0,0,1,39.541,10.57574l1.79248-7.65448,3.53564,10.08081q4.71679,2.28534,9.35352,4.99793c-3.60791-16.95111-5.09278-33.86286-2.61572-47H379.625v-7.1181l2.208,7.1181h11.792V260.675A30.9998,30.9998,0,0,0,362.625,229.675Z","transform","translate(-126.375 -148.155)","fill","#2f2e41"],["d","M360.625,303.675,324.66978,302.116l-.967,3.67373a213.66873,213.66873,0,0,0-3.59909,92.56989l0,0h0a8.24249,8.24249,0,0,1,2.34458,8.00651l-.5165,2.0591.04779.07542a12.06182,12.06182,0,0,1,1.60133,9.00482v0l1.79834,9.90181L383.625,401.675l13-45Z","transform","translate(-126.375 -148.155)","fill","#cacaca"],["d","M449.73154,398.51889a10.024,10.024,0,0,0-1.08438,1.43417L396.1439,365.196l-37.51032-47.69436a15.08,15.08,0,0,0-24.89132,16.89988l0,0a118.97085,118.97085,0,0,0,23.25336,28.63132l30.34607,27.323,63.93732,23.03539a9.9971,9.9971,0,1,0-1.54751-14.87242Z","transform","translate(-126.375 -148.155)","fill","#9e616a"],["d","M563.90846,298.81988a28.73541,28.73541,0,1,1,28.73541-28.73541A28.73543,28.73543,0,0,1,563.90846,298.81988Z","transform","translate(-126.375 -148.155)","fill","#e4e4e4"],["d","M575.24669,267.25h-8.50362v-8.50373a2.83461,2.83461,0,0,0-5.66922,0V267.25h-8.50374a2.83457,2.83457,0,0,0,0,5.66913h8.50374v8.50372a2.83461,2.83461,0,0,0,5.66922,0v-8.50372h8.50362a2.83457,2.83457,0,1,0,0-5.66913Z","transform","translate(-126.375 -148.155)","fill","#fff"],["d","M420.61426,619.61374a16.87393,16.87393,0,0,0-1.57031-15.08753L393.625,472.675l-10-50h-60s-37.5,41.5-29.5,94.5l-2.23926,74.64014a27.44788,27.44788,0,0,0-1.50342,16.18585l.89112,4.22223-.34375.63592a21.33414,21.33414,0,0,0-.26856,19.77216L288.125,717.175l18-1,26.5-98.5,17.5-88.5,29.5,68.5,1,16-.48535,14.10333L357.125,710.175l19.5,7.5Z","transform","translate(-126.375 -148.155)","fill","#2f2e41"],["d","M566.05518,750.655a1.193,1.193,0,0,1-1.18995,1.19H127.56494a1.19,1.19,0,0,1,0-2.38H564.86523A1.18664,1.18664,0,0,1,566.05518,750.655Z","transform","translate(-126.375 -148.155)","fill","#cacaca"],[1,"titre"],[1,"content-modal"],["placeholder","Titre","required","",1,"input",3,"ngModelChange","ngModel"],["placeholder","Description","id","description","name","description",1,"input",3,"ngModelChange","ngModel"],[1,"selectbox-container"],["for","visibility"],["id","visibility","name","visibility",1,"input-selectbox",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","submit",3,"click"],[3,"value"]],template:function(i,o){i&1&&(n(0,"div",0)(1,"div",1),u(),n(2,"svg",2),f(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"rect",8)(9,"polygon",9)(10,"path",10)(11,"polygon",11)(12,"path",12)(13,"path",13)(14,"circle",14)(15,"circle",15)(16,"circle",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22)(23,"path",23)(24,"path",24)(25,"path",25)(26,"path",26)(27,"path",27)(28,"path",28)(29,"path",29)(30,"path",30)(31,"path",31)(32,"path",32)(33,"circle",33)(34,"path",34)(35,"path",35)(36,"path",36)(37,"path",37)(38,"path",38)(39,"path",39)(40,"path",40),a(),Z(),n(41,"div",41),c(42,"Nouveau carnet"),a()(),n(43,"div",42)(44,"input",43),k("ngModelChange",function(l){return _(o.newNotebook.title,l)||(o.newNotebook.title=l),l}),a(),n(45,"textarea",44),k("ngModelChange",function(l){return _(o.newNotebook.description,l)||(o.newNotebook.description=l),l}),a(),n(46,"div",45)(47,"label",46),c(48,"Visibilit\xE9 :"),a(),n(49,"select",47),k("ngModelChange",function(l){return _(o.newNotebook.visibility,l)||(o.newNotebook.visibility=l),l}),h(50,ke,2,2,"option",48),a()(),n(51,"button",49),g("click",function(){return o.saveNotebook()}),c(52,"Sauvegarder"),a()()()),i&2&&(r(44),b("ngModel",o.newNotebook.title),r(),b("ngModel",o.newNotebook.description),r(4),b("ngModel",o.newNotebook.visibility),r(),s("ngForOf",o.visibilityOptions))},dependencies:[E,j,F,V,A,D,$,T],styles:[".selectbox-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:10px;width:100%}"]})}return t})(),R=function(t){return t.Public="public",t.Private="private",t}(R||{});var Ce=(t,p)=>({"private-svg":t,"public-svg":p}),Me=(t,p)=>({"private-titre-notebook":t,"public-titre-notebook":p});function we(t,p){t&1&&(n(0,"div",10),u(),n(1,"svg",11),f(2,"path",12)(3,"path",13),a()())}function ye(t,p){if(t&1){let e=y();n(0,"div",14),g("click",function(o){return M(e),v().deleteNotebook(),w(o.stopPropagation())}),u(),n(1,"svg",11),f(2,"path",15)(3,"path",16)(4,"path",17),a()()}}var Fe=(()=>{class t{notebookService;router;usersService;notebook;notebookDeleted=new G;loggedInUserId=null;canEdit=!1;constructor(e,i,o){this.notebookService=e,this.router=i,this.usersService=o}ngOnInit(){this.usersService.getUserId().subscribe({next:e=>{console.log("Utilisateur connect\xE9 : ",e),this.loggedInUserId=e.id,this.checkEditPermission()},error:e=>{console.log("Erreur lors de la r\xE9cup\xE9ration de l'utilisateur connect\xE9 :",e)}})}checkEditPermission(){this.notebook&&this.loggedInUserId&&(this.canEdit=this.notebook.userId===this.loggedInUserId)}openNotebookDetails(){this.router.navigate(["/notebook",this.notebook._id])}deleteNotebook(){window.confirm("\xCAtes-vous s\xFBr de vouloir supprimer ce carnet ? Ceci supprimera \xE9galement toutes les notes associ\xE9es.")&&this.notebookService.deleteNotebook(this.notebook._id).subscribe({next:i=>{this.notebookDeleted.emit(this.notebook._id)},error:i=>{console.log(i)}})}static \u0275fac=function(i){return new(i||t)(m(N),m(Y),m(L))};static \u0275cmp=C({type:t,selectors:[["app-notebook-item"]],inputs:{notebook:"notebook"},outputs:{notebookDeleted:"notebookDeleted"},decls:12,vars:12,consts:[[1,"container-notebook",3,"click"],[1,"icon-notebook",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","data-name","Layer 1","viewBox","0 0 24 24"],["d","M17,0H7C4.243,0,2,2.243,2,5v15c0,2.206,1.794,4,4,4h11c2.757,0,5-2.243,5-5V5c0-2.757-2.243-5-5-5Zm3,5v11H8V2h4V10.347c0,.623,.791,.89,1.169,.395l1.331-1.743,1.331,1.743c.378,.495,1.169,.228,1.169-.395V2c1.654,0,3,1.346,3,3ZM6,2.184v13.816c-.732,0-1.409,.212-2,.556V5c0-1.302,.839-2.402,2-2.816Zm11,19.816H6c-2.629-.047-2.627-3.954,0-4h14v1c0,1.654-1.346,3-3,3Z"],[1,"texte-notebook"],[1,"titre-notebook",3,"ngClass"],[1,"description-notebook"],[1,"action-notebook"],["class","action",4,"ngIf"],["class","action delete",3,"click",4,"ngIf"],[1,"action"],["xmlns","http://www.w3.org/2000/svg","id","Outline","viewBox","0 0 24 24"],["d","M18.656.93,6.464,13.122A4.966,4.966,0,0,0,5,16.657V18a1,1,0,0,0,1,1H7.343a4.966,4.966,0,0,0,3.535-1.464L23.07,5.344a3.125,3.125,0,0,0,0-4.414A3.194,3.194,0,0,0,18.656.93Zm3,3L9.464,16.122A3.02,3.02,0,0,1,7.343,17H7v-.343a3.02,3.02,0,0,1,.878-2.121L20.07,2.344a1.148,1.148,0,0,1,1.586,0A1.123,1.123,0,0,1,21.656,3.93Z"],["d","M23,8.979a1,1,0,0,0-1,1V15H18a3,3,0,0,0-3,3v4H5a3,3,0,0,1-3-3V5A3,3,0,0,1,5,2h9.042a1,1,0,0,0,0-2H5A5.006,5.006,0,0,0,0,5V19a5.006,5.006,0,0,0,5,5H16.343a4.968,4.968,0,0,0,3.536-1.464l2.656-2.658A4.968,4.968,0,0,0,24,16.343V9.979A1,1,0,0,0,23,8.979ZM18.465,21.122a2.975,2.975,0,0,1-1.465.8V18a1,1,0,0,1,1-1h3.925a3.016,3.016,0,0,1-.8,1.464Z"],[1,"action","delete",3,"click"],["d","M21,4H17.9A5.009,5.009,0,0,0,13,0H11A5.009,5.009,0,0,0,6.1,4H3A1,1,0,0,0,3,6H4V19a5.006,5.006,0,0,0,5,5h6a5.006,5.006,0,0,0,5-5V6h1a1,1,0,0,0,0-2ZM11,2h2a3.006,3.006,0,0,1,2.829,2H8.171A3.006,3.006,0,0,1,11,2Zm7,17a3,3,0,0,1-3,3H9a3,3,0,0,1-3-3V6H18Z"],["d","M10,18a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,10,18Z"],["d","M14,18a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,14,18Z"]],template:function(i,o){i&1&&(n(0,"div",0),g("click",function(l){return o.openNotebookDetails(),l.stopPropagation()}),n(1,"div",1),u(),n(2,"svg",2),f(3,"path",3),a()(),Z(),n(4,"div",4)(5,"div",5),c(6),a(),n(7,"div",6),c(8),a()(),n(9,"div",7),h(10,we,4,0,"div",8)(11,ye,5,0,"div",9),a()()),i&2&&(r(),s("ngClass",U(6,Ce,o.notebook.visibility==="private",o.notebook.visibility==="public")),r(4),s("ngClass",U(9,Me,o.notebook.visibility==="private",o.notebook.visibility==="public")),r(),x(o.notebook.title),r(2),x(o.notebook.description),r(2),s("ngIf",o.canEdit),r(),s("ngIf",o.canEdit))},dependencies:[J,P],styles:[".container-notebook[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:10px;gap:20px;justify-content:flex-start;align-items:center;background-color:#fff;border-radius:10px;box-shadow:0 4px 4px #031d5340;transition:all .5s}.container-notebook[_ngcontent-%COMP%]:hover, .container-notebook[_ngcontent-%COMP%]:focus{transform:scale(1.01)}.icon-notebook[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon-notebook[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:30px}.private-svg[_ngcontent-%COMP%]{fill:#2a71db}.public-svg[_ngcontent-%COMP%]{fill:#000}.titre-notebook[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.private-titre-notebook[_ngcontent-%COMP%]{color:#2a71db}.public-titre-notebook[_ngcontent-%COMP%]{color:#000}.description-notebook[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#818181}.texte-notebook[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;flex-grow:1}.action-notebook[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}.action[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#fff;border-radius:5px;padding:5px;box-shadow:0 4px 4px #031d5340}.delete[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#8a1602}.action[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px}"]})}return t})();var Xe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=H({type:t});static \u0275inj=O({imports:[K,ee,ce,re]})}return t})();export{N as a,Pe as b,Fe as c,Xe as d};
